<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Prévoir les fusions de communes</title>
  <meta name="description" content="Rapport pour la formation du CEPE en datascience">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Prévoir les fusions de communes" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Rapport pour la formation du CEPE en datascience" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Prévoir les fusions de communes" />
  
  <meta name="twitter:description" content="Rapport pour la formation du CEPE en datascience" />
  

<meta name="author" content="Eglantine Bigot-Haon, Vivien Roussez, Khouloud Zine Elabidine aka les datagourdes">


<meta name="date" content="2018-03-25">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="index.html">
<link rel="next" href="analyse-des-features.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Prévoir les fusions de communes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="contitution-de-la-base-de-donnees.html"><a href="contitution-de-la-base-de-donnees.html"><i class="fa fa-check"></i><b>2</b> Contitution de la base de données</a><ul>
<li class="chapter" data-level="2.1" data-path="contitution-de-la-base-de-donnees.html"><a href="contitution-de-la-base-de-donnees.html#creation-des-couples-de-communes"><i class="fa fa-check"></i><b>2.1</b> Création des couples de communes</a></li>
<li class="chapter" data-level="2.2" data-path="contitution-de-la-base-de-donnees.html"><a href="contitution-de-la-base-de-donnees.html#indicateurs-communaux-mobilises"><i class="fa fa-check"></i><b>2.2</b> Indicateurs communaux mobilisés</a></li>
<li class="chapter" data-level="2.3" data-path="contitution-de-la-base-de-donnees.html"><a href="contitution-de-la-base-de-donnees.html#indicateurs-de-flux"><i class="fa fa-check"></i><b>2.3</b> Indicateurs de flux</a></li>
<li class="chapter" data-level="2.4" data-path="contitution-de-la-base-de-donnees.html"><a href="contitution-de-la-base-de-donnees.html#appartenance-a-un-meme-perimetre"><i class="fa fa-check"></i><b>2.4</b> Appartenance à un même périmètre</a></li>
<li class="chapter" data-level="2.5" data-path="contitution-de-la-base-de-donnees.html"><a href="contitution-de-la-base-de-donnees.html#determination-de-la-couleur-politique-des-communes"><i class="fa fa-check"></i><b>2.5</b> Détermination de la couleur politique des communes</a><ul>
<li class="chapter" data-level="2.5.1" data-path="contitution-de-la-base-de-donnees.html"><a href="contitution-de-la-base-de-donnees.html#un-proxy-de-la-couleur-politique-dune-commune"><i class="fa fa-check"></i><b>2.5.1</b> Un proxy de la couleur politique d’une commune</a></li>
<li class="chapter" data-level="2.5.2" data-path="contitution-de-la-base-de-donnees.html"><a href="contitution-de-la-base-de-donnees.html#preparation-des-donnees"><i class="fa fa-check"></i><b>2.5.2</b> Préparation des données</a></li>
<li class="chapter" data-level="2.5.3" data-path="contitution-de-la-base-de-donnees.html"><a href="contitution-de-la-base-de-donnees.html#analyse-factorielle-des-resultats"><i class="fa fa-check"></i><b>2.5.3</b> Analyse factorielle des résultats</a></li>
<li class="chapter" data-level="2.5.4" data-path="contitution-de-la-base-de-donnees.html"><a href="contitution-de-la-base-de-donnees.html#synthese-typologie-communale"><i class="fa fa-check"></i><b>2.5.4</b> Synthèse : typologie communale</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="contitution-de-la-base-de-donnees.html"><a href="contitution-de-la-base-de-donnees.html#synthese-dictionnaire-des-variables"><i class="fa fa-check"></i><b>2.6</b> Synthèse : Dictionnaire des variables</a></li>
<li class="chapter" data-level="2.7" data-path="contitution-de-la-base-de-donnees.html"><a href="contitution-de-la-base-de-donnees.html#imputations-et-corrections"><i class="fa fa-check"></i><b>2.7</b> Imputations et corrections</a></li>
<li class="chapter" data-level="2.8" data-path="contitution-de-la-base-de-donnees.html"><a href="contitution-de-la-base-de-donnees.html#calcul-de-lindicateur-de-fusion"><i class="fa fa-check"></i><b>2.8</b> Calcul de l’indicateur de fusion</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="analyse-des-features.html"><a href="analyse-des-features.html"><i class="fa fa-check"></i><b>3</b> Analyse des features</a></li>
<li class="chapter" data-level="4" data-path="modelisation-de-la-probabilite-de-fusionner.html"><a href="modelisation-de-la-probabilite-de-fusionner.html"><i class="fa fa-check"></i><b>4</b> Modélisation de la probabilité de fusionner</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Prévoir les fusions de communes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="contitution-de-la-base-de-donnees" class="section level1">
<h1><span class="header-section-number">Chapitre 2</span> Contitution de la base de données</h1>
<p>Pour nourrir le modèle de machine learning, nous avons procédé en plusieurs étapes :</p>
<ul>
<li>Identification des couples de communes contigües (seules susceptibles de fusionner)</li>
<li>Constitution d’indicateurs de dissimilarités pour chacun de ces couples
<ul>
<li>Collecte d’indicateurs communaux donnant les caractéristiques démographiques, sociales, économiques des territoire</li>
<li>Calcul de la distance euclidienne entre chacun des couples sur la base de chacun de ces indicateurs</li>
</ul></li>
<li>Ajout d’indicateurs de <strong>flux</strong>, permettant de mesurer l’intensité des échanges (essentiellement de nature économique)</li>
<li>Ajout de variables binaires pour les couples appartenant à un même zonage administratif ou d’étude</li>
</ul>
<div id="creation-des-couples-de-communes" class="section level2">
<h2><span class="header-section-number">2.1</span> Création des couples de communes</h2>
<p>Chaque ligne de la base de donnée représente un couple de communes contigües (c’est à dire qu’elle se touchent en au moins un point). La base est donc contstituée de deux colonnes “commune A” et “commune B” et on compte 218 000 couples, mais pour dans lesquels A,B et B,A forment deux lignes distinctes. On crée donc un identifiant unique pour A,B et B,A pour n’avoir qu’une occurrence des couples dans la base. Il y a donc, au final, envrion 109 000 lignes dans la base.</p>
<pre><code>##   Var1 Var2 first second ident codgeo1 codgeo2
## 1    1   25     1     25  1_25   01001   01028
## 2    1   86     1     86  1_86   01001   01093
## 3    1  134     1    134 1_134   01001   01146
## 4    1  172     1    172 1_172   01001   01188
## 5    1  319     1    319 1_319   01001   01351
## 6    1  377     1    377 1_377   01001   01412</code></pre>
</div>
<div id="indicateurs-communaux-mobilises" class="section level2">
<h2><span class="header-section-number">2.2</span> Indicateurs communaux mobilisés</h2>
<p>Pour déterminer les caractéristiques des communes (et ensuite déterminer si elles sont très différentes ou homogènes), nous avons utilisé la base <a href="https://www.insee.fr/fr/statistiques/2521169">comparateur de de territoires</a> fournie par l’Insee. Celle-ci constitue une synthèses de diverses sources de données (recensement de la population, Connaissance locale de l’appareil production, fichiers d’état civil, fichiers fiscaux…). Certaines variables de cette base sont présentes pour 2008 et 2013, ce qui nous a permis de calculer des évolutions en plus des stocks. On a également ajouté la variable de densité de population (hab/km²)</p>
<p>A cette base, on ajoute quelques indicateurs supplémentaires : - Revenu médian communal (Source : Filocom2015). <strong>Attention, données à ne pas diffuser</strong> - Potentiel financier de la commune (Source : DGCL). Le potentiel financier indique le montant des recettes fiscal que percevrait la commune si elle pratique les taux de prélèvement moyens. C’est un proxy de la “richesse” des communes.</p>
</div>
<div id="indicateurs-de-flux" class="section level2">
<h2><span class="header-section-number">2.3</span> Indicateurs de flux</h2>
<p>Pour mesurer l’intensité des liens entre les communes contigües, notamment les échanges économiques, nous avons rassemblé 4 indicateurs bilocalisés :</p>
<ul>
<li>Le nombre d’actifs se déplaçant de la commune A à la commune B (et réciproquement) (source : RP2013)</li>
<li>Le nombre de migrations résidentielles entre les deux communes A et B intervenues entre 2012 et 2013 (source : RP2013)</li>
<li>Le nombre de logements en location de la commune A détenus par des propriétaires de la commune B et réciproquement (source : filocom2015) <strong>Attention, données à ne pas diffuser</strong> -Le nombre de résidences secondaires de la commune A détenus par les propriétaires habitant la commune B et réciproquement (source : filocom2015) <strong>Attention, données à ne pas diffuser</strong></li>
</ul>
</div>
<div id="appartenance-a-un-meme-perimetre" class="section level2">
<h2><span class="header-section-number">2.4</span> Appartenance à un même périmètre</h2>
<p>Enfin, nous avons créé des variables binaires d’appartenance à un même périmètre géogpraphique. Ces variables valent 1 si les communes A et B appartiennent aux mêmes :</p>
<ul>
<li>Etablissement public de coopération intercommunale (EPCI, eg communautés de communes), contours 2014 et 2016</li>
<li>Département</li>
<li>Zone d’emploi (Insee)</li>
<li>Bassin de vie (Insee)</li>
<li>Aire urbaine (Insee)</li>
<li>Schéma de cohérence territoriale (document d’urbanisme supracommunal)</li>
<li>Plan local d’urbanisme intercommunal</li>
</ul>
<p>Ceci permet de mesurer la proximité institutionnelle (périmètres administratif) et fonctionnelle (zonages d’études de l’Insee) des communes.</p>

</div>
<div id="determination-de-la-couleur-politique-des-communes" class="section level2">
<h2><span class="header-section-number">2.5</span> Détermination de la couleur politique des communes</h2>
<div id="un-proxy-de-la-couleur-politique-dune-commune" class="section level3">
<h3><span class="header-section-number">2.5.1</span> Un proxy de la couleur politique d’une commune</h3>
<p>Pour alimenter le modèle de machine learning, une variable qui semble, a priori, très importante, est la proximité politique entre chaque couple de communes ; on peut penser que si les mairies, avant la fusion, ont des couleurs semblables, la probabilité d’un accord de fusion entre les deux communes est plus grande. N’ayant à disposition aucune donnée vraiment structurée concernant la couleur politique de telle ou telle mairie, nous avons opté pour l’analyse des résultats des élections présidentielles du premier tour de 2017. L’hypothèse est que les votes des électeurs lors de l’élection nationale donne un proxy raisonnable de l’orientation locale. Cette hypothèse est naturellement simplificatrice et n’est pas valable partout (implantation locale d’une personnalité, absence d’étiquette des élus locaux…).</p>
<p>Les données sont disponibles sur data.gouv.fr et proviennent du ministère de l’intérieur. Le choix s’est porté sur le premier tour dans la mesure où celui-ci contient plus de variance, puisque davantage de candidats.</p>
</div>
<div id="preparation-des-donnees" class="section level3">
<h3><span class="header-section-number">2.5.2</span> Préparation des données</h3>
<p>Avant de démarrer, il faut installer le package COGugaison, qui permet de passer facilement d’un millésime de géographique comunale à un autre. On charge en plus les packages du tidyverse, FactoMineR pour l’analyse des données, et sf pour la gestion des données géographiques. On charge également le fonds de carte communale de l’IGN. Pour le fonds de carte, il faut passer des arrondissements (Paris, Lyon, Marseille) à la commune (on ne dispose pas des informations à l’arrondissement dans la plupart des cas)</p>
<pre><code>## Reading layer `COMMUNE&#39; from data source `C:\Users\vivien.roussez\Documents\Work\Tampon\Fusion_communes\Sources\COMMUNE.shp&#39; using driver `ESRI Shapefile&#39;
## Simple feature collection with 36571 features and 18 fields
## geometry type:  MULTIPOLYGON
## dimension:      XY
## bbox:           xmin: 99217.1 ymin: 6049646 xmax: 1242417 ymax: 7110480
## epsg (SRID):    NA
## proj4string:    +proj=lcc +lat_1=44 +lat_2=49 +lat_0=46.5 +lon_0=3 +x_0=700000 +y_0=6600000 +ellps=GRS80 +units=m +no_defs</code></pre>
<p>Les données initiales se présentent comme un fichier de 36000 lignes avec pour chaque candidats 7 colonnes donnant notamment le nom, prénom, nombre de voix et les pourcentages correspondants. Le premier travail consiste à passer de ce format “large” inexploitable à un format “long” qui aura un ligne pour chaque croisement commune*candidat avec en colonne le nombre de voix. On gère également le millésime du COG en se ramenant au COG2015 comme pour les autres variables que l’on ajoute par la suite.</p>
</div>
<div id="analyse-factorielle-des-resultats" class="section level3">
<h3><span class="header-section-number">2.5.3</span> Analyse factorielle des résultats</h3>
<p>Maintenant que nous disposons d’une table exploitable, on peut réaliser une analyse factorielle pour pouvoir synthétiser le positionnement politique des communes. Pour cela, on effectue une analyse factorielle des correspondance, puisqu’on dispose de 2 variables qualitatives : la commune (individus lignes dans le tableau de contingence) et le candidat (individus colonne).</p>
<p><img src="Prévoir_les_fusions_de_communes_files/figure-html/unnamed-chunk-6-1.png" width="576" /></p>
<p>D’après l’histogramme des valeurs propres, on voit que l’inertie du tableau de contingence est très concentrée sur les 2 premiers axes factoriels, à hauteur de 70%. Le critère du point d’inflexion conduirait à retenir les 4 premiers axes (la dérivée seconde change de signe au niveau de la 4e valeur propre), pour 87% de l’inertie totale.</p>
<p><img src="Prévoir_les_fusions_de_communes_files/figure-html/unnamed-chunk-7-1.png" width="576" /></p>
<p>On observe un effet Guttman assez net sur le premier plan factoriel : on a une opposition nette entre les candidats extrêmes à droite et les candidats “modérés” sur la gauche. Le second axes semble davantage retracer le clivage gauche-droite, avec les candidats Macron et Le Pen proche du barycentre. Le dexième plan factoriel donne lui à voir des différences moins structurantes à l’échelle nationale, mais on voit nettement la particularité “locale” du vote Lassalle, ainsi que (dans une moindre mesure) de celui en faveur de Dupont-Aignan.</p>
<p>La représentation cartographique de ces axes factoriels :</p>
<p><img src="Prévoir_les_fusions_de_communes_files/figure-html/unnamed-chunk-8-1.png" width="576" /><img src="Prévoir_les_fusions_de_communes_files/figure-html/unnamed-chunk-8-2.png" width="576" /></p>
</div>
<div id="synthese-typologie-communale" class="section level3">
<h3><span class="header-section-number">2.5.4</span> Synthèse : typologie communale</h3>
<p>Pour la suite des opérations (modélisation de fusion/ non fusion), nous allons garder les 4 variables quantitatives obtenues par l’AFC mais pour pousser la démarche jusqu’au bout, nous réalisons une classification (clustering) des communes à partir des coordonnées factorielles obtenues. Etant donnés le nombre d’individus et le manque de puissance de la machine sur laquelle je travaille (4Go de RAM), une CAH est impossible (sauf à faire un premier k-means pour diminuer la dimension…), nous réalisons donc un clustering avec l’algorithme k-means puis dbscan</p>
<p><img src="Prévoir_les_fusions_de_communes_files/figure-html/unnamed-chunk-9-1.png" width="576" /></p>
<p>Le gain de variance inter-classes augmente très rapidement quand on agmente le nombre de classe, mais le gain marginal s’atténue assez rapidement. On retient donc 5 classes, qui retracent près de 60% de la variance totale des quatre variables.</p>
<p><img src="Prévoir_les_fusions_de_communes_files/figure-html/unnamed-chunk-10-1.png" width="576" /><img src="Prévoir_les_fusions_de_communes_files/figure-html/unnamed-chunk-10-2.png" width="576" /><img src="Prévoir_les_fusions_de_communes_files/figure-html/unnamed-chunk-10-3.png" width="576" /></p>

</div>
</div>
<div id="synthese-dictionnaire-des-variables" class="section level2">
<h2><span class="header-section-number">2.6</span> Synthèse : Dictionnaire des variables</h2>
<p>La base compte au final 48 variables :</p>
<pre><code>##  [1] &quot;ident&quot;              &quot;first&quot;              &quot;second&quot;            
##  [4] &quot;dist_P13_POP&quot;       &quot;dist_SUPERF&quot;        &quot;dist_P13_MEN&quot;      
##  [7] &quot;dist_NAISD15&quot;       &quot;dist_DECESD15&quot;      &quot;dist_P13_LOG&quot;      
## [10] &quot;dist_P13_RP&quot;        &quot;dist_P13_RSECOCC&quot;   &quot;dist_P13_LOGVAC&quot;   
## [13] &quot;dist_P13_RP_PROP&quot;   &quot;dist_NBMENFISC13&quot;   &quot;dist_PIMP13&quot;       
## [16] &quot;dist_MED13&quot;         &quot;dist_TP6013&quot;        &quot;dist_P13_EMPLT&quot;    
## [19] &quot;dist_P13_EMPLT_SAL&quot; &quot;dist_P13_POP1564&quot;   &quot;dist_P13_CHOM1564&quot; 
## [22] &quot;dist_P13_ACT1564&quot;   &quot;dist_ETTOT14&quot;       &quot;dist_ETAZ14&quot;       
## [25] &quot;dist_ETBE14&quot;        &quot;dist_ETFZ14&quot;        &quot;dist_ETGU14&quot;       
## [28] &quot;dist_ETGZ14&quot;        &quot;dist_ETOQ14&quot;        &quot;dist_ETTEF114&quot;     
## [31] &quot;dist_ETTEFP1014&quot;    &quot;dist_revmoy&quot;        &quot;dist_pot_fin&quot;      
## [34] &quot;dist_Pol1&quot;          &quot;dist_Pol2&quot;          &quot;dist_evol_pop&quot;     
## [37] &quot;dist_densite&quot;       &quot;dist_evol_nais&quot;     &quot;dist_evol_dec&quot;     
## [40] &quot;dist_evol_empl&quot;     &quot;nb_locprop&quot;         &quot;nb_RS&quot;             
## [43] &quot;nb_mig&quot;             &quot;nb_navettes&quot;        &quot;dep&quot;               
## [46] &quot;ze&quot;                 &quot;bv&quot;                 &quot;au&quot;                
## [49] &quot;epci2014&quot;           &quot;epci2016&quot;           &quot;scot&quot;              
## [52] &quot;plui&quot;               &quot;fusion_2016&quot;        &quot;fusion_2015&quot;       
## [55] &quot;fusion&quot;</code></pre>
<p>Le préfixe “dist_” indique qu’il s’agit d’un indicateur de dissimilarité. Le préfixe “nb_” indique qu’il s’agit d’un indicateur de flux. Les variables non préfixées sont les variables binaires d’appartenance géographique.</p>
<ul>
<li>P13_POP : Population en 2013</li>
<li>SUPERF : Superficie (en km2)</li>
<li>P13_MEN : Nombre de ménages en 2013</li>
<li>NAISD15 : Nombre de naissances domiciliées en 2015</li>
<li>DECESD15 : Nombre de décès domiciliés en 2015</li>
<li>P13_LOG : Nombre de logements en 2013</li>
<li>P13_RP : Nombre de résidences principales en 2013</li>
<li>P13_RSECOCC : Nombre de résidences secondaires et logements occasionnels en 2013</li>
<li>P13_LOGVAC : Nombre de logements vacants en 2013</li>
<li>P13_RP_PROP : Nombre de résidences principales occupées par propriétaires en 2013</li>
<li>NBMENFISC14 : Nombre de ménages fiscaux en 2013</li>
<li>PIMP13 : Part des ménages fiscaux imposés en 2013</li>
<li>MED14 : Médiane du niveau de vie en 2013</li>
<li>TP6014 : Taux de pauvreté en 2013</li>
<li>P13_EMPLT : Nombre d’emplois au lieu de travail en 2013</li>
<li>P13_EMPLT_SAL : Nombre d’emplois salariés au lieu de travail en 2013</li>
<li>P09_EMPLT : Nombre d’emplois au lieu de travail en 2009</li>
<li>P13_POP1564 : Nombre de personnes de 15 à 64 ans en 2013</li>
<li>P13_CHOM1564 : Nombre de chômeurs de 15 à 64 ans en 2013</li>
<li>P13_ACT1564 : Nombre de personnes actives de 15 à 64 ans en 2013</li>
<li>ETTOT14 : Total des établissements actifs au 31 décembre 2014</li>
<li>ETAZ14 : Etablissements actifs de l’agriculture, sylviculture et pêche au 31/12/2014</li>
<li>ETBE14 : Etablissements actifs de l’industrie au 31/12/2014</li>
<li>ETFZ14 : Etablissements actifs de la construction au 31/12/2014</li>
<li>ETGU14 : Etablissements actifs du commerce, transports et services divers au 31/12/2014</li>
<li>ETGZ14 : Etablissements actifs du commerce et réparation automobile au 31/12/2014</li>
<li>ETOQ14 : Etablissements actifs de l’administration publique, enseignement, santé et action sociale au 31/12/2014</li>
<li>ETTEF114 : Etablissements actifs de 1 à 9 salariés au 31 décembre 2014</li>
<li>ETTEFP1014 : Etablissements actifs de 10 salariés ou plus au 31 décembre 2014</li>
<li>revmoy : Revenu médian par unité de consommation</li>
<li>pot_fin : Potentiel financier de la commune (ressources fiscal si elle applique les taux de prélèvement moyens)</li>
<li>Pol1 : Premier axe facttoriel de l’AFC sur les résultats électoraux (présidentielles 2017, tour 1)</li>
<li>Pol2 : Deuxième axe facttoriel de l’AFC sur les résultats électoraux (présidentielles 2017, tour 1)</li>
<li>evol_nais : évolution du nombre de naissances entre 2013 et 2015</li>
<li>evol_dec : évolution du nombre de décès entre 2013 et 2015</li>
<li>evol_pop : évolution de la population entre 2008 et 2013</li>
<li>evol_empl : évolution du nombre d’emplois au lieu de travail entre 2008 et 2013</li>
<li>RS : nombre de résidences secondaires de la commune A détenus par un propriétaire de la commune B (et réciproquement)</li>
<li>loc_prop : nombre de logements loués de la commune A détenus par un propriétaire de la commune B (et réciproquement)</li>
<li>mig : nombre de migrations résidentielles (déménagements) de la commune A vers la commune B (et réciproquement)</li>
<li>navettes : nombre de déplacements domicile-travail de la commune A vers la commune B (et réciproquement)</li>
<li>dep : appartenance au même département</li>
<li>ze : appartenance à la même zone d’emploi</li>
<li>bv : appartenance au même bassin de vie</li>
<li>au : appartenance à la même aire urbaine</li>
<li>epci2014 : appartenance au même EPCI (contour 2014)</li>
<li>epci2016 : appartenance au même EPCI (contour 2016)</li>
<li>scot : appartenance au même SCOT (schéma de cohérence territoriale)</li>
<li>plui : appartenance au même plan local d’urbanisme intercommunal</li>
</ul>
</div>
<div id="imputations-et-corrections" class="section level2">
<h2><span class="header-section-number">2.7</span> Imputations et corrections</h2>
<p>Afin d’avoir une base opérationnelle pour la partie statistiques descriptives et machine learning, nous avons enfin nettoyé les données : nous avons supprimé les variables pour lesquelles la part de données manquante était trop importante (&gt;3%), imputé les valeurs manquantes par la moyenne, et remplacé les distances “infinies” (causée par une valeur nulle d’un indicateur pour une commune) par le maximum observé sur les autres lignes.</p>

</div>
<div id="calcul-de-lindicateur-de-fusion" class="section level2">
<h2><span class="header-section-number">2.8</span> Calcul de l’indicateur de fusion</h2>
<p>Etant donné que nous cherchons à prédire la fusion des couples de communes, nous allons créer une variable indicatrice de fusion. Pour cela, nous allons de nouveau utiliser le package COGugaison.</p>
<p>Nous prenons la base qui recense, d’une année à l’autre, les fusions / défusions. Dans notre cas, nous prenons les années 2015-2016 et 2016-2017 ainsi que les variables codgeo_2016, codgeo_2016 et typemodif.</p>
<pre><code>##   cod2016 cod2017      annee typemodif     ratio
## 1   76676   76601 2017-01-01         d 0.3236074
## 2   76676   76676 2017-01-01         d 0.6763926
## 3   01095   01095 2017-01-01         f 1.0000000
## 4   01172   01095 2017-01-01         f 1.0000000
## 5   01098   01098 2017-01-01         f 1.0000000
## 6   01316   01098 2017-01-01         f 1.0000000</code></pre>
<p>Puis, nous filtrons uniquement sur les fusions.</p>
<p>Nous splitons les bases afin de recréer les couples de communes et nous ne gardons que les couples différents</p>
<p>Enfin, nous créons un indicateur de fusion sur chaque base qui vaut “1” quand il y a fusion “0” sinon puis nous réintégrons l’information dans notre base de travail</p>
<p>Nous avons donc:</p>
<pre><code>##   type_fusion annee_2015_2017 annee_2015_2016 annee_2016_2017
## 1           0          107308          107972          108418
## 2           1            1774            1110             664</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="analyse-des-features.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
